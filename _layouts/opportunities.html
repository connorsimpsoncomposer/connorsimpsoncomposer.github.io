---
layout: default
body_class: opportunities
---

{% assign now = site.time | date: "%s" %}
{% assign upcoming = "" | split: "" %}
{% assign past = "" | split: "" %}

{% for o in site.opportunities %}
  {% assign deadline_ts = o.deadline | date: "%s" %}
  {% if deadline_ts >= now %}
    {% assign upcoming = upcoming | push: o %}
  {% else %}
    {% assign past = past | push: o %}
  {% endif %}
{% endfor %}

{% assign upcoming = upcoming | sort: "deadline" %}
{% assign past = past | sort: "deadline" | reverse %}

<section class="opportunities-page">

  <header class="opportunities-header">
    <h1>{{ page.title }}</h1>
    <p class="opportunities-intro">
      A personally curated list of festivals, calls, and other opportunities for composers which have no application fee or have fee waivers/"early bird" deadlines.
    </p>

  </header>

  <div class="opportunities-controls-wrapper">

    <div class="tier-filters">

      <div id="favorites-actions" class="actions-group-pod" style="display: none;">
        <div class="pod-label">Favorites:</div>
        <div class="pod-buttons">
          <button onclick="window.exportAllFavoritesToCalendar()" title="Export to Calendar">
            <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="18" x="3" y="4" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
          </button>
          <button onclick="window.shareFavoritesEmail()" title="Email Favorites">
            <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="16" x="2" y="4" rx="2"></rect><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path></svg>
          </button>
          <button onclick="window.copyFavoritesToClipboard()" title="Copy to Clipboard">
            <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg>
          </button>
          <div class="pod-divider"></div>
          <button class="btn-danger" onclick="window.clearAllFavorites()" title="Clear Entire List">
            <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"></path><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path></svg>
          </button>
        </div>
      </div>
      <div class="filter-toggles">
        <button id="unhide-all" class="unhide-all-btn" style="display: none;">
          <svg viewBox="0 0 24 24" width="14" height="14" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 14 4 9l5-5"/><path d="M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11"/></svg>
          Show All Hidden
        </button>
        
        <label class="filter-pill favorite-pill">
          <input type="checkbox" id="show-favorites-only" hidden>
          <span>
            <svg viewBox="0 0 24 24" width="14" height="14" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>
            Favorites <small id="fav-count">(0)</small>
          </span>
        </label>

        <label class="filter-pill">
          <input type="checkbox" data-filter="funding" hidden>
          <span>
            <svg viewBox="0 0 24 24" width="14" height="14" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path></svg>
            Fully Funded
          </span>
        </label>

        <label class="filter-pill">
          <input type="checkbox" data-filter="scholarships" hidden>
          <span>
            <svg viewBox="0 0 24 24" width="14" height="14" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 10L12 5L2 10L12 15L22 10Z"/><path d="M6 12V17C9 19 15 19 18 17V12"/></svg>
            Scholarships Available
          </span>
        </label>

        <label class="filter-pill">
          <input type="checkbox" data-filter="prize" hidden>
          <span>
            <svg viewBox="0 0 24 24" width="14" height="14" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="8" r="6"></circle><path d="M15.477 12.89 17 22l-5-3-5 3 1.523-9.11"></path></svg>
            Paid / Prize
          </span>
        </label>

        <label class="filter-pill">
          <input type="checkbox" data-filter="travel" hidden>
          <span>
            <svg viewBox="0 0 24 24" width="14" height="14" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z"></path></svg>
            Travel Reimbursed
          </span>
        </label>

        <button id="clear-filters" class="clear-filters-btn" style="display: none;">
          <svg viewBox="0 0 24 24" width="14" height="14" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18M6 6l12 12"></path></svg>
          Clear All
        </button>
      </div>
    </div>



    <div class="tier-organization">
      <div class="opportunities-search">
        {% include opportunity-search.html %}
      </div>

      <div class="opportunities-org-actions">
        <button id="toggle-order" class="sort-btn">
          Sort by Date <span class="arrow">ðŸ —</span>
        </button>

        <div class="group-dropdown" id="group-dropdown">
          <button class="group-dropdown-trigger">
            <span class="group-dropdown-label">Ungrouped</span>
            <span class="group-dropdown-arrow">â–¼</span>
          </button>
          <ul class="group-dropdown-menu">
            <li data-group="none">Ungrouped</li>
            <li data-group="category">by Category</li>
            <li data-group="instrumentation">by Instrumentation</li>
            <li data-group="month">by Month</li>
          </ul>
        </div>
      </div>
    </div>


  </div>

  <!-- GROUPED CONTAINER -->
  <div class="opportunity-groups" style="display:none;"></div>

  <!-- FLAT CONTAINER -->
  <div class="opportunity-flat">
    {% for o in upcoming %}
      {% include opportunity-card.html opp=o %}
    {% endfor %}
  </div>

  <!-- ARCHIVE (ALWAYS BOTTOM, NEVER GROUPED) -->
  {% if past.size > 0 %}
  <details class="opportunity-archive">
    <summary>Past Due Opportunities</summary>
    <div class="opportunity-archive-list">
      {% for opp in past %}
        {% include opportunity-card.html opp=opp archive=true %}
      {% endfor %}
    </div>
  </details>
  {% endif %}

</section>
<script src="/_assets/js/opps-utils.js" defer></script>
<script src="/_assets/js/opps-calendar.js" defer></script>
<script src="/_assets/js/sweep-animations.js" defer></script>
<script src="/_assets/js/opps-favorites.js" defer></script>
<script src="/_assets/js/opps-hidden.js" defer></script>
<script src="/_assets/js/opps-renderer.js" defer></script>
<script src="/_assets/js/opps-menu-interactions.js" defer></script>
<script src="/_assets/js/opps-filter.js" defer></script>
